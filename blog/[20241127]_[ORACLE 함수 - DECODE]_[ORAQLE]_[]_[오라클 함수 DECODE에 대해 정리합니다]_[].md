# ROUND

`ROUND` 함수는 숫자나 날짜를 반올림하여 원하는 자리수 또는 형식으로 변환하는 Oracle SQL 함수입니다. 주로 데이터 값의 정밀도를 제어하거나 계산 결과를 간단히 표현할 때 유용하게 사용됩니다.

---

## ROUND 함수의 기본 문법

### 숫자 반올림
```sql
ROUND(number, decimal_places)
```

- **number**: 반올림할 숫자.
- **decimal_places**: (선택 사항) 반올림할 소수점 자리수.  
  - 양수: 소수점 이하 자리수를 기준으로 반올림.
  - 음수: 소수점 왼쪽(정수) 자리수를 기준으로 반올림.
  - 생략 시 기본값은 `0`이며 정수로 반올림.

### 날짜 반올림
```sql
ROUND(date, format)
```

- **date**: 반올림할 날짜.
- **format**: (선택 사항) 날짜를 반올림할 기준. 기본값은 `DD`(일 기준)입니다.  
  - 날짜 형식은 `MONTH`, `YEAR`, `DAY` 등 지정 가능.

---

## 작동 방식

1. 숫자의 경우, 지정된 자리수로 반올림합니다.
2. 날짜의 경우, 지정된 단위에 따라 날짜를 반올림합니다.

---

## 예시

### 1. 숫자 반올림: 기본 사용
소수점 이하 두 번째 자리까지 반올림:
```sql
SELECT 
    ROUND(123.456, 2) AS RESULT
FROM DUAL;
```
**결과**:  
- `123.456` → `123.46`  
- 소수점 세 번째 자리 `6`을 반올림하여 두 번째 자리값이 증가.

---

### 2. 숫자 반올림: 음수 자리수
정수 자리에서 반올림:
```sql
SELECT 
    ROUND(12345.678, -2) AS RESULT
FROM DUAL;
```
**결과**:  
- `12345.678` → `12300`  
- 소수점 왼쪽 두 번째 자리(백의 자리)에서 반올림.

---

### 3. 날짜 반올림: 기본 사용
날짜를 가장 가까운 `월`로 반올림:
```sql
SELECT 
    ROUND(TO_DATE('2024-11-27', 'YYYY-MM-DD'), 'MONTH') AS RESULT
FROM DUAL;
```
**결과**:  
- 입력 날짜: `'2024-11-27'`  
- 결과 날짜: `'2024-12-01'`  
- 27일이 월의 중간을 넘어섰으므로 다음 달의 첫날로 반올림.

---

### 4. 날짜 반올림: 연 단위
가장 가까운 `연도`로 반올림:
```sql
SELECT 
    ROUND(TO_DATE('2024-06-15', 'YYYY-MM-DD'), 'YEAR') AS RESULT
FROM DUAL;
```
**결과**:  
- 입력 날짜: `'2024-06-15'`  
- 결과 날짜: `'2025-01-01'`  
- 6월이 연도의 중간을 넘어섰으므로 다음 해의 첫날로 반올림.

---

### 5. 대량 데이터에서 사용
평균 값을 소수점 세 자리까지 반올림:
```sql
SELECT 
    DEPTNO,
    ROUND(AVG(SAL), 3) AS AVG_SALARY
FROM EMP
GROUP BY DEPTNO;
```
**설명**:  
- 각 부서별 평균 급여(`AVG(SAL)`)를 소수점 세 자리까지 반올림하여 반환.

---

### 6. 조건문과 조합
특정 값을 반올림한 후 조건에 따라 필터링:
```sql
SELECT *
FROM ORDERS
WHERE ROUND(TOTAL_AMOUNT, 0) > 1000;
```
**설명**:  
- 주문 금액(`TOTAL_AMOUNT`)을 정수로 반올림한 결과가 1000을 초과하는 데이터만 반환.

---

## ROUND 함수의 유용성
`ROUND` 함수는 숫자와 날짜를 다룰 때 간단하면서도 강력한 기능을 제공합니다.  
숫자 데이터의 정밀도를 조정하거나 날짜 데이터를 특정 단위로 단순화하고자 할 때 매우 유용합니다. 

**참고**: `ROUND`와 유사하게 `TRUNC`(버림), `CEIL`(올림) 함수도 필요에 따라 활용할 수 있습니다.